!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("react"),require("react-dom")):"function"==typeof define&&define.amd?define(["exports","react","react-dom"],t):t(e.WeUI=e.WeUI||{},e.React,e.ReactDOM)}(this,function(e,t,a){"use strict";function n(){for(var e=[],t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];for(var s=0;s<a.length;s++){var i=a[s];if(i){var o=void 0===i?"undefined":u(i);if("string"===o||"number"===o)e.push(i);else if(Array.isArray(i))e.push(n.apply(null,i));else if("object"===o)for(var l in i)v.call(i,l)&&i[l]&&e.push(l)}}return e.join(" ")}function r(e,t,a){if("function"!=typeof global.it){var n=e+"\n"+t;if(!N[n]){var r="[React-WeUI] "+e+" is deprecated. Use "+t+" instead. "+e+" will be remove in the next major version.";a&&(r+="\nYou can read more about it at \n"+a),w(!1,r),N[n]=!0}}}function s(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function i(e,t){return t={exports:{}},e(t,t.exports),t.exports}function o(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function l(){}function c(){}a="default"in a?a.default:a;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},h=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),d=function(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e},m=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},f=function(e,t){var a={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(a[n]=e[n]);return a},g=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},v={}.hasOwnProperty,b=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.component,r=e.type,s=e.size,i=e.plain,o=e.className,l=void 0===o?"":o,c=e.children,u=f(e,["component","type","size","plain","className","children"]),p=a||(this.props.href||"vcode"===r?"a":"button"),h="vcode"===r?n("weui-vcode-btn",d({},l,l)):n(d({"weui-btn":!0,"weui-btn_mini":"small"===s,"weui-btn_primary":"primary"===r&&!i,"weui-btn_default":"default"===r&&!i,"weui-btn_warn":"warn"===r,"weui-btn_plain-primary":"primary"===r&&i,"weui-btn_plain-default":"default"===r&&i,"weui-btn_disabled":this.props.disabled&&!i,"weui-btn_plain-disabled":this.props.disabled&&i},l,l));return t.createElement(p,Object.assign({},u,{className:h}),c)}}]),a}(t.Component);b.defaultProps={disabled:!1,type:"primary",size:"normal"};var y=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.direction,r=e.children,s=e.className,i=void 0===s?"":s,o=n(d({"weui-btn-area":!0,"weui-btn-area_inline":"horizontal"===a},i,i));return t.createElement("div",{className:o},r)}}]),a}(t.Component);y.defaultProps={direction:"vertical"};var _=function(e){var a=e.className,r=void 0===a?"":a,s=e.primary,i=e.children,o=f(e,["className","primary","children"]),l=n(d({"weui-form-preview__btn":!0,"weui-form-preview__btn_default":!s,"weui-form-preview__btn_primary":s},r,r));return t.createElement("a",Object.assign({className:l},o),i)};_.defaultProps={primary:!1};var w=function(){},N={},E=function(e){var a=e.children,s=e.className,i=e.access,o=f(e,["children","className","access"]);i&&r("Cells Access","Cell Access","https://github.com/weui/weui/wiki/%E5%9C%A81.0.0%E5%9C%A8%E4%BB%A3%E7%A0%81%E5%B1%82%E9%9D%A2%E4%B8%8A%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E6%94%B9%E5%8F%98#%E5%B8%A6%E7%AE%AD%E5%A4%B4%E7%9A%84%E5%88%97%E8%A1%A8%E7%94%B1%E4%B9%8B%E5%89%8D%E7%9A%84weui_cells_access%E6%94%B9%E4%B8%BA%E5%8D%95%E7%8B%AC%E6%8E%A7%E5%88%B6%E7%9A%84weui-cell_access");var l=n(d({"weui-cells":!0},s,s));return t.createElement("div",Object.assign({className:l},o),a)};E.propTypes={},E.defaultProps={};var k=i(function(e,t){function a(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case s:switch(e=e.type){case h:case d:case o:case c:case l:case f:return e;default:switch(e=e&&e.$$typeof){case p:case m:case u:return e;default:return t}}case v:case g:case i:return t}}}function n(e){return a(e)===d}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,s=r?Symbol.for("react.element"):60103,i=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,l=r?Symbol.for("react.strict_mode"):60108,c=r?Symbol.for("react.profiler"):60114,u=r?Symbol.for("react.provider"):60109,p=r?Symbol.for("react.context"):60110,h=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,m=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116;t.typeOf=a,t.AsyncMode=h,t.ConcurrentMode=d,t.ContextConsumer=p,t.ContextProvider=u,t.Element=s,t.ForwardRef=m,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=i,t.Profiler=c,t.StrictMode=l,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===d||e===c||e===l||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===u||e.$$typeof===p||e.$$typeof===m)},t.isAsyncMode=function(e){return n(e)||a(e)===h},t.isConcurrentMode=n,t.isContextConsumer=function(e){return a(e)===p},t.isContextProvider=function(e){return a(e)===u},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===s},t.isForwardRef=function(e){return a(e)===m},t.isFragment=function(e){return a(e)===o},t.isLazy=function(e){return a(e)===v},t.isMemo=function(e){return a(e)===g},t.isPortal=function(e){return a(e)===i},t.isProfiler=function(e){return a(e)===c},t.isStrictMode=function(e){return a(e)===l},t.isSuspense=function(e){return a(e)===f}});s(k),s(i(function(e,t){}));var C=(i(function(e){e.exports=k}),Object.getOwnPropertySymbols),O=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,j=(function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},a=0;a<10;a++)t["_"+String.fromCharCode(a)]=a;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(e){return!1}}()&&Object.assign,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED");Function.call.bind(Object.prototype.hasOwnProperty);c.resetWarningCache=l;var x=function(){function e(e,t,a,n,r,s){if(s!==j){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var a={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:c,resetWarningCache:l};return a.PropTypes=a,a},P=i(function(e){e.exports=x()}),S=function(e){var a=e.className,r=e.children,s=e.access,i=e.href,o=e.link,l=e.component,c=e.htmlFor,u=f(e,["className","children","access","href","link","component","htmlFor"]),p=i?"a":c?"label":"div",h=l||p,m=n(d({"weui-cell":!0,"weui-cell_access":s,"weui-cell_link":o},a,a));return t.createElement(h,Object.assign({className:m,href:i,htmlFor:c},u),r)};S.propTypes={access:P.bool,link:P.bool,component:P.func},S.defaultProps={access:!1,link:!1};var I=function(e){var a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-cells__title":!0},a,a));return t.createElement("div",Object.assign({className:i},s),r)},M=function(e){var a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-cells__tips":!0},a,a));return t.createElement("div",Object.assign({className:i},s),r)},B=function(e){var a=e.className,r=e.children,s=e.primary,i=f(e,["className","children","primary"]),o=n(d({"weui-cell__hd":!0,"weui-cell_primary":s},a,a));return t.createElement("div",Object.assign({className:o},i),r)};B.propTypes={primary:P.bool},B.defaultProps={primary:!1};var H=function(e){var a=e.className,r=e.children,s=e.primary,i=f(e,["className","children","primary"]),o=n(d({"weui-cell__bd":!0,"weui-cell_primary":s},a,a));return t.createElement("div",Object.assign({className:o},i),r)};H.propTypes={primary:P.bool},H.defaultProps={primary:!1};var A=function(e){var a=e.className,r=e.children,s=e.primary,i=f(e,["className","children","primary"]),o=n(d({"weui-cell__ft":!0,"weui-cell_primary":s},a,a));return t.createElement("div",Object.assign({className:o},i),r)};A.propTypes={primary:P.bool},A.defaultProps={primary:!1};var D=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.transparent,r=e.className,s=f(e,["transparent","className"]),i=n({"weui-mask":!a,"weui-mask_transparent":a},r);return t.createElement("div",Object.assign({className:i},s))}}]),a}(t.Component);D.defaultProps={transparent:!1};var R=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=e.radio,i=e.checkbox,o=f(e,["children","className","radio","checkbox"]),l=n(d({"weui-cells":!0,"weui-cells_form":!s&&!i,"weui-cells_radio":s,"weui-cells_checkbox":i},r,r));return t.createElement("div",Object.assign({className:l},o),a)}}]),a}(t.Component);R.propTypes={radio:P.bool,checkbox:P.bool},R.defaultProps={radio:!1,checkbox:!1};var L=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.children,s=e.radio,i=e.checkbox,o=e.vcode,l=e.warn,c=e.select,u=e.selectPos,p=f(e,["className","children","radio","checkbox","vcode","warn","select","selectPos"]),h=Object.assign({},p);delete h.switch;var m=n(d({"weui-cell":!0,"weui-cell_vcode":o,"weui-cell_warn":l,"weui-cell_switch":this.props.switch,"weui-cell_select":c,"weui-cell_select-before":"before"===u,"weui-cell_select-after":"after"===u,"weui-check__label":s||i},a,a));return s||i?t.createElement("label",Object.assign({className:m},h),r):t.createElement("div",Object.assign({className:m},h),r)}}]),a}(t.Component);L.propTypes={vcode:P.bool,warn:P.bool,radio:P.bool,checkbox:P.bool,switch:P.bool,select:P.bool,selectPos:P.string},L.defaultProps={vcode:!1,warn:!1,radio:!1,checkbox:!1,select:!1,switch:!1,selectPos:void 0};var F=function(e){function a(){p(this,a);var e=g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments));return e.state={textCounter:e.props.defaultValue?e.props.defaultValue.length:0},e}return m(a,e),h(a,[{key:"handleChange",value:function(e){this.setState({textCounter:e.target.value.length}),this.props.onChange&&this.props.onChange(e)}},{key:"render",value:function(){var e=this.props,a=e.className,r=e.children,s=e.showCounter,i=e.maxLength,o=(e.onChange,f(e,["className","children","showCounter","maxLength","onChange"])),l=n(d({"weui-textarea":!0},a,a));return t.createElement("div",null,t.createElement("textarea",Object.assign({className:l,maxLength:i,onChange:this.handleChange.bind(this)},o),r),!!s&&t.createElement("div",{className:"weui-textarea-counter"},t.createElement("span",null,this.state.textCounter),!!i&&"/"+i))}}]),a}(t.Component);F.propTypes={showCounter:P.bool,maxLength:P.number,defaultValue:P.string},F.defaultProps={showCounter:!0,defaultValue:void 0};var V=function(e){var a=e.className,r=f(e,["className"]),s=n(d({"weui-input":!0},a,a));return t.createElement("div",null,t.createElement("input",Object.assign({className:s},r)),t.createElement("span",{className:"weui-icon-checked"}))};V.propTypes={defaultValue:P.string},V.defaultProps={defaultValue:void 0};var z=function(e){var a=e.className,r=void 0===a?"":a,s=e.checked,i=e.size,o=e.onChange,l=f(e,["className","checked","size","onChange"]),c=n(d({"weui-switch":!0,"weui-switch-small":"small"===i},r,r)),u=Object.assign({},l);s&&(u.checked="checked");var p=function(e){o&&o(e.target.checked,e)};return t.createElement("div",null,t.createElement("input",Object.assign({className:c,type:"checkbox"},u,{onChange:p})),t.createElement("span",{className:"weui-icon-checked"}))};z.propTypes={className:P.string,checked:P.bool,size:P.string,onChange:P.func},z.defaultProps={checked:!1,size:"default"};var W=function(e){var a=e.className,r=f(e,["className"]),s=n(d({"weui-check":!0},a,a));return t.createElement("div",null,t.createElement("input",Object.assign({className:s,type:"radio"},r)),t.createElement("span",{className:"weui-icon-checked"}))},G=function(e){var a=e.className,r=f(e,["className"]),s=n(d({"weui-check":!0},a,a));return t.createElement("div",null,t.createElement("input",Object.assign({className:s,type:"checkbox"},r)),t.createElement("span",{className:"weui-icon-checked"}))},Y=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"renderData",value:function(e){return e.map(function(e,a){var n=e.value,r=e.label,s=f(e,["value","label"]);return t.createElement("option",Object.assign({key:a,value:n},s),r)})}},{key:"render",value:function(){var e=this.props,a=e.className,r=e.data,s=e.children,i=f(e,["className","data","children"]),o=n(d({"weui-select":!0},a,a));return t.createElement("select",Object.assign({className:o},i),r.length>0?this.renderData(r):s)}}]),a}(t.Component);Y.propTypes={data:P.array},Y.defaultProps={data:[]};var q={safe_success:"safe-success",safe_warn:"safe-warn",success_circle:"success-circle",success_no_circle:"success-no-circle",waiting_circle:"waiting-circle",info_circle:"info-circle"},$=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e,a=this.props,s=a.value,i=a.size,o=a.className,l=a.primary,c=f(a,["value","size","className","primary"]);-1!==Object.keys(q).indexOf(s)&&r("Icon "+s,"Icon "+q[s],null);var u=n((e={},d(e,"weui-icon-"+s,"loading"!==s),d(e,"weui-icon_msg","large"===i&&!l),d(e,"weui-icon_msg-primary","large"===i&&l),d(e,"weui-loading","loading"===s),d(e,o,o),e));return t.createElement("i",Object.assign({},c,{className:u}))}}]),a}(t.Component);$.propTypes={value:P.string,size:P.string},$.defaultProps={value:"success",size:"small"};var U=function(e){function s(){return p(this,s),g(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return m(s,e),h(s,[{key:"detectVerticalSquash",value:function(e){var t=void 0,a=e.naturalHeight,n=document.createElement("canvas");n.width=1,n.height=a;var r=n.getContext("2d");if(r){r.drawImage(e,0,0);try{t=r.getImageData(0,0,1,a).data}catch(e){return console.log("Cannot check verticalSquash: CORS?"),1}for(var s=0,i=a,o=a;o>s;){0===t[4*(o-1)+3]?i=o:s=o,o=i+s>>1}var l=o/a;return 0===l?1:l}}},{key:"handleFile",value:function(e,t){var a=this,n=arguments,r=void 0;"undefined"!=typeof FileReader?r=new FileReader:window.FileReader&&(r=new window.FileReader),r.onload=function(r){var s=void 0;"undefined"!=typeof Image?s=new Image:window.Image&&(s=new window.Image),s.onload=function(){var i=Math.min(a.props.maxWidth,s.width),o=s.height*(i/s.width),l=document.createElement("canvas"),c=l.getContext("2d");if(c){var u=c.drawImage;l.width=i,l.height=o,function(e,t,r,s,i,o,l,p,h){var d=1;e&&"IMG"===e.nodeName&&(d=a.detectVerticalSquash(e),void 0===s&&(s=e.naturalWidth),void 0===i&&(i=e.naturalHeight)),9===n.length?u.call(c,e,t,r,s,i,o,l,p,h/d):void 0!==s?u.call(c,e,t,r,s,i/d):u.call(c,e,t,r)}(s,0,0,i,o);var p=l.toDataURL("image/png");t({nativeFile:e,lastModified:e.lastModified,lastModifiedDate:e.lastModifiedDate,name:e.name,size:e.size,type:e.type,data:p},r)}else t(e,r)},s.src=r.target.result},r.readAsDataURL(e)}},{key:"handleChange",value:function(e){var t=this,n=this.props.lang,r=e.target.files;if(r&&0!==r.length){if(this.props.files.length>=this.props.maxCount)return void this.props.onError(n.maxError(this.props.maxCount));for(var s in r)if(r.hasOwnProperty(s)){var i=r[s];this.handleFile(i,function(e,n){t.props.onChange&&t.props.onChange(e,n),a.findDOMNode(t.refs.uploader)})}}}},{key:"renderFiles",value:function(){var e=this;return this.props.files.map(function(a,s){var i=a.url,o=a.error,l=a.status,c=a.onClick,u=f(a,["url","error","status","onClick"]),p={backgroundImage:"url("+i+")"},h=n({"weui-uploader__file":!0,"weui-uploader__file_status":o||l});c&&r("File onClick","Uploader onFileClick",null);var d=c||function(t){e.props.onFileClick&&e.props.onFileClick(t,a,s)};return t.createElement("li",Object.assign({className:h,key:s,style:p,onClick:d},u),!(!o&&!l)&&t.createElement("div",{className:"weui-uploader__file-content"},o?t.createElement($,{value:"warn"}):l))})}},{key:"render",value:function(){var e=this.props,a=e.className,r=e.title,s=e.maxCount,i=e.files,o=(e.onChange,e.onFileClick,e.lang,f(e,["className","title","maxCount","files","onChange","onFileClick","lang"])),l=Object.assign({},o);delete l.onError,delete l.maxWidth;var c=n(d({"weui-uploader":!0},a,a));return t.createElement("div",{className:c},t.createElement("div",{className:"weui-uploader__hd"},t.createElement("p",{className:"weui-uploader__title"},r),t.createElement("div",{className:"weui-uploader__info"},i.length,"/",s)),t.createElement("div",{className:"weui-uploader__bd"},t.createElement("ul",{className:"weui-uploader__files"},this.renderFiles()),t.createElement("div",{className:"weui-uploader__input-box"},t.createElement("input",Object.assign({ref:"uploader",className:"weui-uploader__input",type:"file",accept:"image/*",capture:"camera",onChange:this.handleChange.bind(this)},l)))))}}]),s}(t.Component);U.propTypes={title:P.string,maxCount:P.number,maxWidth:P.number,onChange:P.func,onError:P.func,files:P.array,lang:P.object},U.defaultProps={title:"图片上传",maxCount:4,maxWidth:500,files:[],onChange:void 0,onError:void 0,lang:{maxError:function(e){return"最多只能上传"+e+"张图片"}}};var X=function(e){var a=e.className,r=f(e,["className"]),s=n(d({"weui-vcode-img":!0},a,a));return t.createElement("div",null,t.createElement("img",Object.assign({className:s},r)))},K=function(e){var a=e.className,r=e.children,s=e.id,i=f(e,["className","children","id"]),o=n(d({"weui-agree":!0},a,a));return t.createElement("label",{className:o,htmlFor:s},t.createElement("input",Object.assign({id:s,type:"checkbox",className:"weui-agree__checkbox"},i)),t.createElement("span",{className:"weui-agree__text"},r))},J=function(e){var a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-form-preview":!0},a,a));return t.createElement("div",Object.assign({className:i},s),r)},Q=function(e){var a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-form-preview__hd":!0},a,a));return t.createElement("div",Object.assign({className:i},s),r)},Z=function(e){var a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-form-preview__bd":!0},a,a));return t.createElement("div",Object.assign({className:i},s),r)},ee=function(e){var a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-form-preview__ft":!0},a,a));return t.createElement("div",Object.assign({className:i},s),r)},te=function(e){var a=e.className,r=e.label,s=e.value,i=f(e,["className","label","value"]),o=n(d({"weui-form-preview__item":!0},a,a));return t.createElement("div",Object.assign({className:o},i),t.createElement("label",{className:"weui-form-preview__label"},r),t.createElement("em",{className:"weui-form-preview__value"},s))};te.propTypes={label:P.string,value:P.string},te.defaultProps={label:!1,value:!1};var ae=function(e){function r(e){p(this,r);var t=g(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={value:t.props.value?t.props.value:t.props.defaultValue?t.props.defaultValue:0,controlled:void 0!==t.props.value,totalWidth:0,touching:!1,ogX:0,touchId:void 0,percent:t.props.value?t.props.value/(t.props.max-t.props.min)*100:t.props.defaultValue?t.props.defaultValue/(t.props.max-t.props.min)*100:0,animating:!1,ogPercent:t.state.percent},t.handleTouchStart=t.handleTouchStart.bind(t),t.handleTouchMove=t.handleTouchMove.bind(t),t.handleTouchEnd=t.handleTouchEnd.bind(t),t.updateValue=t.updateValue.bind(t),t}return m(r,e),h(r,[{key:"componentDidMount",value:function(){0===this.state.value&&this.updateValue()}},{key:"componentWillReceiveProps",value:function(e){if(this.state.controlled&&e.value<=this.props.max&&e.value>=this.props.min){var t=e.value/(this.props.max-this.props.min)*100;this.setState({value:e.value,percent:t})}}},{key:"updateValue",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],a=0,n=this.state.percent,r=this.props,s=r.min,i=r.max,o=r.step,l=r.onChange,c=(i-s)/o,u=100/c;if(100===n)a=i;else if(0===n)a=s;else for(var p=0;p<c;p++)n>p*u&&n<=(p+1)*u&&(a=n-p*u>u/2?(p+1)*o+s:p*o+s);a!==this.state.value&&(this.setState({value:a}),l&&l(a)),t&&this.setState({percent:a===s?0:a===i?100:(a-s)/o*u,animating:!0},function(){return e.setState({animating:!1})})}},{key:"handleTouchStart",value:function(e){if(!this.state.touching&&!this.props.disabled){var t=a.findDOMNode(this.refs.bar);this.setState({touching:!0,touchId:e.targetTouches[0].identifier,totalWidth:t.clientWidth,ogX:e.targetTouches[0].pageX,ogPercent:this.state.percent})}}},{key:"handleTouchMove",value:function(e){var t=this;if(this.state.touching&&!this.props.disabled&&e.targetTouches[0].identifier===this.state.touchId){e.preventDefault();var a=e.targetTouches[0].pageX,n=a-this.state.ogX,r=n/this.state.totalWidth*100+this.state.ogPercent;r=r<0?0:r>100?100:r,this.setState({percent:r},function(){return t.updateValue()})}}},{key:"handleTouchEnd",value:function(){this.state.touching&&!this.props.disabled&&(this.props.snapToValue&&this.updateValue(!0),this.setState({touching:!1,ogX:0,touchId:void 0,ogPercent:0}))}},{key:"render",value:function(){var e=this.props,a=e.className,r=(e.max,e.min,e.step,e.showValue),s=(e.value,e.disabled,e.defaultValue,e.onChange,e.snapToValue,f(e,["className","max","min","step","showValue","value","disabled","defaultValue","onChange","snapToValue"])),i=n("weui-slider-box",a),o={width:this.state.percent+"%"},l={left:this.state.percent+"%",transition:this.state.animating?"transform .3s":"none"};return t.createElement("div",{className:i},t.createElement("div",Object.assign({className:"weui-slider"},s),t.createElement("div",{className:"weui-slider__inner",ref:"bar"},t.createElement("div",{style:o,className:"weui-slider__track"}),t.createElement("div",{style:l,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,className:"weui-slider__handler"}))),!!r&&t.createElement("div",{className:"weui-slider-box__value"},this.state.value))}}]),r}(t.Component);ae.propTypes={max:P.number,min:P.number,step:P.number,showValue:P.bool,disabled:P.bool,value:P.number,defaultValue:P.number,onChange:P.func,snapToValue:P.bool},ae.defaultProps={max:100,min:0,step:1,showValue:!0,disabled:!1,defaultValue:0,snapToValue:!0};var ne=function(e){var a=e.className,r=f(e,["className"]),s=n(d({"weui-label":!0},a,a));return t.createElement("div",null,t.createElement("label",Object.assign({className:s},r)))},re=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.className,r=void 0===a?"":a,s=e.icon,i=e.show,o=e.children,l=e.iconSize,c=f(e,["className","icon","show","children","iconSize"]),u=n("weui-toast",d({},r,r));return t.createElement("div",{style:{display:i?"block":"none"}},t.createElement(D,{transparent:!0}),t.createElement("div",Object.assign({className:u},c),t.createElement($,{value:s,size:l,className:"weui-icon_toast"}),t.createElement("p",{className:"weui-toast_content"},o)))}}]),a}(t.Component);re.propTypes={icon:P.string,iconSize:P.string,show:P.bool},re.defaultProps={icon:"toast",show:!1};var se=function(e){var a=e.className,r=void 0===a?"":a,s=e.showCancel,i=e.value,o=e.onClick,l=f(e,["className","showCancel","value","onClick"]),c=n(d({"weui-progress":!0},r,r)),u=i>100?100:i<0?0:i;return t.createElement("div",Object.assign({className:c},l),t.createElement("div",{className:"weui-progress__bar"},t.createElement("div",{className:"weui-progress__inner-bar",style:{width:u+"%"}})),!!s&&t.createElement("a",{href:"javascript:;",className:"weui-progress__opr",onClick:function(e){o&&o(e)}},t.createElement($,{value:"cancel"})))};se.propTypes={value:P.number,showCancel:P.bool},se.defaultProps={value:0,showCancel:!0};var ie=function(e){function a(e){p(this,a);var t=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.handleMaskClick=t.handleMaskClick.bind(t),t}return m(a,e),h(a,[{key:"renderMenuItem",value:function(){return this.props.menus.map(function(e,a){var r=e.label,s=e.className,i=void 0===s?"":s,o=f(e,["label","className"]),l=n(d({"weui-actionsheet__cell":!0},i,i));return t.createElement("div",Object.assign({key:a},o,{className:l}),r)})}},{key:"renderActions",value:function(){return this.props.actions.map(function(e,a){var r=e.label,s=e.className,i=void 0===s?"":s,o=f(e,["label","className"]),l=n(d({"weui-actionsheet__cell":!0},i,i));return t.createElement("div",Object.assign({key:a},o,{className:l}),r)})}},{key:"handleMaskClick",value:function(e){this.props.onRequestClose&&this.props.onRequestClose(e)}},{key:"render",value:function(){var e=this.props,a=e.show,r=e.type,s=(e.onRequestClose,e.menus,e.actions,f(e,["show","type","onRequestClose","menus","actions"])),i=n({"weui-actionsheet":!0,"weui-actionsheet_toggle":a}),o=r||"ios";return t.createElement("div",{className:"android"===o?"weui-skin_android":""},t.createElement(D,{style:{display:a?"block":"none"},onClick:this.handleMaskClick}),t.createElement("div",Object.assign({className:i},s),t.createElement("div",{className:"weui-actionsheet__menu"},this.renderMenuItem()),t.createElement("div",{className:"weui-actionsheet__action"},this.renderActions())))}}]),a}(t.Component);ie.propTypes={menus:P.array,actions:P.array,show:P.bool,onRequestClose:P.func,type:P.string},ie.defaultProps={type:"",menus:[],actions:[],show:!1};var oe=function(e){function a(e){p(this,a);var t=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={isAndroid:""},t}return m(a,e),h(a,[{key:"renderButtons",value:function(){return this.props.buttons.map(function(e,a){var r=e.type,s=e.label,i=f(e,["type","label"]),o=n({"weui-dialog__btn":!0,"weui-dialog__btn_default":"default"===r,"weui-dialog__btn_primary":"primary"===r});return t.createElement("a",Object.assign({key:a,href:"javascript:;"},i,{className:o}),s)})}},{key:"render",value:function(){var e=this.props,a=e.title,r=e.show,s=e.className,i=e.children,o=(e.buttons,e.type),l=(e.autoDectect,f(e,["title","show","className","children","buttons","type","autoDectect"])),c=o||"ios",u=n("weui-dialog",d({"weui-skin_android":"android"===c},s,s));return t.createElement("div",{style:{display:r?"block":"none"}},t.createElement(D,null),t.createElement("div",Object.assign({className:u},l),!!a&&t.createElement("div",{className:"weui-dialog__hd"},t.createElement("strong",{className:"weui-dialog__title"},a)),t.createElement("div",{className:"weui-dialog__bd"},i),t.createElement("div",{className:"weui-dialog__ft"},this.renderButtons())))}}]),a}(t.Component);oe.propTypes={buttons:P.array,show:P.bool,title:P.string,type:P.string},oe.defaultProps={buttons:[],show:!1,title:"",type:""};var le=function(e){var a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-footer":!0},a,a));return t.createElement("div",Object.assign({className:i},s),r)},ce=function(e){var a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-footer__text":!0},a,a));return t.createElement("p",Object.assign({className:i},s),r)},ue=function(e){var a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-footer__links":!0},a,a));return t.createElement("p",Object.assign({className:i},s),r)},pe=function(e){var a=e.className,r=e.children,s=e.href,i=f(e,["className","children","href"]),o=n(d({"weui-footer__link":!0},a,a));return t.createElement("a",Object.assign({className:o},i,{href:s}),r)},he=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"_renderButtons",value:function(){return this.props.buttons.map(function(e,a){var n=e.type,r=e.label,s=f(e,["type","label"]);return t.createElement(b,Object.assign({key:a},s,{type:n}),r)})}},{key:"render",value:function(){var e=this.props,a=e.children,s=e.className,i=e.type,o=e.title,l=e.description,c=e.extraHref,u=e.extraText,p=e.footer,h=(e.buttons,f(e,["children","className","type","title","description","extraHref","extraText","footer","buttons"])),m=n("weui-msg",d({},s,s)),g=p||function(){return!1};return g()||!c&&!u||(r("Msg extraHref/extraText","Msg footer",null),g=function(){return t.createElement(le,null,t.createElement(ue,null,t.createElement(pe,{href:c},u)))}),t.createElement("div",Object.assign({className:m},h),t.createElement("div",{className:"weui-msg__icon-area"},t.createElement($,{value:i,size:"large"})),t.createElement("div",{className:"weui-msg__text-area"},!!o&&t.createElement("h2",{className:"weui-msg__title"},o),!!l&&t.createElement("p",{className:"weui-msg__desc"},l),a),t.createElement("div",{className:"weui-msg__opr-area"},t.createElement(y,null,this._renderButtons())),t.createElement("div",{className:"weui-msg__extra-area"},g()))}}]),a}(t.Component);he.propTypes={type:P.string,buttons:P.array,title:P.string,description:P.string,extraHref:P.string,extraText:P.string,footer:P.any},he.defaultProps={type:"success",buttons:[]};var de=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-article":!0},a,a));return t.createElement("article",Object.assign({className:i},s),r)}}]),a}(t.Component),me=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-grid__icon":!0},r);return t.createElement("div",Object.assign({className:i},s),a)}}]),a}(t.Component),fe=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-grid__label":!0},r);return t.createElement("p",Object.assign({className:i},s),a)}}]),a}(t.Component),ge=function(e){function a(){
return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.icon,s=e.label,i=e.className,o=e.component,l=f(e,["children","icon","label","className","component"]),c=n({"weui-grid":!0},i),u=o||"a";return t.createElement(u,Object.assign({className:c},l),!!r&&t.createElement(me,null,r),a,!!s&&t.createElement(fe,null,s))}}]),a}(t.Component);ge.propTypes={label:P.string,icon:P.any,component:P.func},ge.defaultProps={label:"",icon:!1};var ve=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"renderData",value:function(e){return e.map(function(e,a){return t.createElement(ge,Object.assign({key:a,icon:e.icon,label:e.label},e))})}},{key:"render",value:function(){var e=this.props,a=e.children,r=e.data,s=e.className,i=f(e,["children","data","className"]),o=n({"weui-grids":!0},s);return t.createElement("div",Object.assign({className:o},i),r.length>0?this.renderData(r):a)}}]),a}(t.Component);ve.propTypes={data:P.array},ve.defaultProps={data:[]};var be=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,s=e.className,i=e.access,o=f(e,["children","className","access"]);i&&r("panel access","cell access","https://github.com/weui/weui/wiki/%E5%9C%A81.0.0%E5%9C%A8%E4%BB%A3%E7%A0%81%E5%B1%82%E9%9D%A2%E4%B8%8A%E5%81%9A%E4%BA%86%E5%93%AA%E4%BA%9B%E6%94%B9%E5%8F%98#panel");var l=n(d({"weui-panel":!0},s,s));return t.createElement("div",Object.assign({className:l},o),a)}}]),a}(t.Component);be.propTypes={access:P.bool},be.defaultProps={access:!1};var ye=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-panel__hd":!0},a,a));return t.createElement("div",Object.assign({className:i},s),r)}}]),a}(t.Component),_e=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.children,s=f(e,["className","children"]),i=n(d({"weui-panel__bd":!0},a,a));return t.createElement("div",Object.assign({className:i},s),r)}}]),a}(t.Component),we=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.children,s=f(e,["className","children"]),i=this.props.href?"a":"div",o=n(d({"weui-panel__ft":!0},a,a));return t.createElement(i,Object.assign({className:o},s),r)}}]),a}(t.Component),Ne=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.type,s=e.className,i=f(e,["children","type","className"]),o=this.props.href?"a":"div",l=n({"weui-media-box":!0,"weui-media-box_appmsg":"appmsg"===r,"weui-media-box_text":"text"===r,"weui-media-box_small-appmsg":"small_appmsg"===r},s);return t.createElement(o,Object.assign({className:l},i),a)}}]),a}(t.Component);Ne.propTypes={type:P.string},Ne.defaultProps={type:"text"};var Ee=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-media-box__hd":!0},r),o=t.Children.map(a,function(e){return"img"!==e.type||e.props.className?e:t.cloneElement(e,{className:"weui-media-box__thumb"})});return t.createElement("div",Object.assign({className:i},s),o)}}]),a}(t.Component),ke=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-media-box__bd":!0},r);return t.createElement("div",Object.assign({className:i},s),a)}}]),a}(t.Component),Ce=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-media-box__title":!0},r);return t.createElement("h4",Object.assign({className:i},s),a)}}]),a}(t.Component),Oe=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-media-box__desc":!0},r);return t.createElement("p",Object.assign({className:i},s),a)}}]),a}(t.Component),Te=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.extra,s=e.className,i=f(e,["children","extra","className"]),o=n({"weui-media-box__info__meta":!0,"weui-media-box__info__meta_extra":r},s);return t.createElement("li",Object.assign({className:o},i),a)}}]),a}(t.Component);Te.propTypes={extra:P.bool},Te.defaultProps={extra:!1};var je=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"renderData",value:function(e){return e.map(function(e,a){return t.createElement(Te,{key:a,extra:e.extra},e.label)})}},{key:"render",value:function(){var e=this.props,a=e.children,r=e.data,s=e.className,i=f(e,["children","data","className"]),o=n({"weui-media-box__info":!0},s);return t.createElement("ul",Object.assign({className:o},i),r.length>0?this.renderData(r):a)}}]),a}(t.Component);je.propTypes={data:P.array},je.defaultProps={data:[]};var xe=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-tab__panel":!0},r);return t.createElement("div",Object.assign({className:i},s),a)}}]),a}(t.Component),Pe=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=e.active,i=f(e,["children","className","active"]),o=n({"weui-tab__bd-item":!0},r);return t.createElement("div",Object.assign({className:o,style:{display:s?"block":"none"}},i),a)}}]),a}(t.Component);Pe.propTypes={active:P.bool},Pe.defaultProps={active:!1};var Se=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-navbar":!0},r);return t.createElement("div",Object.assign({className:i},s),a)}}]),a}(t.Component),Ie=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=e.active,i=e.label,o=f(e,["children","className","active","label"]),l=n({"weui-navbar__item":!0,"weui-bar__item_on":s},r);return t.createElement("div",Object.assign({className:l},o),i||a)}}]),a}(t.Component);Ie.propTypes={active:P.bool,label:P.string},Ie.defaultProps={active:!1};var Me=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-tabbar":!0},r);return t.createElement("div",Object.assign({className:i},s),a)}}]),a}(t.Component),Be=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-tabbar__icon":!0},r);return t.createElement("div",Object.assign({className:i},s),a)}}]),a}(t.Component),He=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=f(e,["children","className"]),i=n({"weui-tabbar__label":!0},r);return t.createElement("p",Object.assign({className:i},s),a)}}]),a}(t.Component),Ae=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=e.active,i=e.icon,o=e.label,l=f(e,["children","className","active","icon","label"]),c=n({"weui-tabbar__item":!0,"weui-bar__item_on":s},r);return i||o?t.createElement("div",Object.assign({className:c},l),!!i&&t.createElement(Be,null,i),!!o&&t.createElement(He,null,o)):t.createElement("div",Object.assign({className:c},l),a)}}]),a}(t.Component);Ae.propTypes={active:P.bool,icon:P.any,label:P.string},Ae.defaultProps={active:!1,icon:!1,label:""};var De=function(e){function a(){p(this,a);var e=g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments));return e.state={index:e.props.defaultIndex},e}return m(a,e),h(a,[{key:"handleHeaderClick",value:function(e){this.setState({index:e}),this.props.onChange&&this.props.onChange(e)}},{key:"parseChild",value:function(e){var a=[],n=[];return t.Children.map(e,function(e){if(e){var r=e.props.children;e.type===Ae||e.type===Ie?(a.push(e),r&&n.push(t.createElement(Pe,{children:r}))):e.type===Pe&&n.push(e)}}),{ChildHeaders:a,ChildContents:n}}},{key:"renderBar",value:function(e,a,n){var r=this,s=this.parseChild(a),i=s.ChildHeaders,o=s.ChildContents,l=i.map(function(e,a){return t.cloneElement(e,{key:a,active:r.state.index===a,onClick:r.handleHeaderClick.bind(r,a,e)})}),c=o.map(function(e,a){return t.cloneElement(e,{key:a,active:r.state.index===a,tabIndex:a})});return"tabbar"===e?t.createElement("div",{className:n},t.createElement(xe,null,c),t.createElement(Me,null,l)):"navbar"===e&&t.createElement("div",{className:n},t.createElement(Se,null,l),t.createElement(xe,null,c))}},{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=e.type,i=f(e,["children","className","type"]),o=Object.assign({},i);delete o.defaultIndex,delete o.onChange;var l=n({"weui-tab":!0},r);return"normal"===s?t.createElement("div",Object.assign({className:l},o),a):this.renderBar(s,a,l)}}]),a}(t.Component);De.propTypes={type:P.string,defaultIndex:P.number,onChange:P.func},De.defaultProps={type:"normal",defaultIndex:0};var Re=function(e){function a(e){p(this,a);var n=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return n.searchInput=t.createRef(),n.state={focus:!!n.props.defaultValue,clearing:!1,text:n.props.defaultValue?n.props.defaultValue:""},""!==n.props.defaultValue&&n.props.onChange&&n.props.onChange(n.state.text),n}return m(a,e),h(a,[{key:"changeHandle",value:function(e){var t=e.target.value;this.props.onChange&&this.props.onChange(t,e),this.setState({text:t})}},{key:"cancelHandle",value:function(e){this.setState({focus:!1,text:""}),this.props.onCancel&&this.props.onCancel(e),this.props.onChange&&this.props.onChange("",e)}},{key:"clearHandle",value:function(e){e.preventDefault(),e.stopPropagation(),this.setState({text:"",clearing:!0}),this.props.onClear&&this.props.onClear(e),this.searchInput.current.focus(),this.props.onChange&&this.props.onChange("",e)}},{key:"blurHandle",value:function(){""===this.state.text&&this.setState({focus:!1})}},{key:"submitHandle",value:function(e){this.props.onSubmit&&(e.preventDefault(),e.stopPropagation(),this.props.onSubmit(this.state.text,e))}},{key:"render",value:function(){var e=this,a=this.props,r=a.autocomplete,s=a.placeholder,i=a.className,o=a.searchName,l=n({"weui-search-bar":!0,"weui-search-bar_focusing":this.state.focus},i);return t.createElement("div",{className:l},t.createElement("form",{className:"weui-search-bar__form",onSubmit:this.submitHandle.bind(this)},t.createElement("div",{className:"weui-search-bar__box"},t.createElement($,{value:"search"}),t.createElement("input",{ref:this.searchInput,type:"search",name:o,className:"weui-search-bar__input",placeholder:s,onFocus:function(){return e.setState({focus:!0})},onBlur:this.blurHandle.bind(this),onChange:this.changeHandle.bind(this),value:this.state.text,autoComplete:r}),t.createElement("a",{className:"weui-icon-clear",onClick:this.clearHandle.bind(this)})),t.createElement("label",{className:"weui-search-bar__label",onClick:function(){var t=e.searchInput;t.current&&t.current.focus()},style:{display:this.state.text?"none":void 0}},t.createElement($,{value:"search"}),t.createElement("span",null,s))),t.createElement("a",{className:"weui-search-bar__cancel-btn",onClick:this.cancelHandle.bind(this)},this.props.lang.cancel))}}]),a}(t.Component);Re.propTypes={defaultValue:P.string,placeholder:P.string,searchName:P.string,onChange:P.func,onClear:P.func,onCancel:P.func,onSubmit:P.func,lang:P.object},Re.defaultProps={placeholder:"搜索",searchName:"q",onChange:void 0,onClear:void 0,onCancel:void 0,onSubmit:void 0,lang:{cancel:"取消"},autocomplete:"off"};var Le=function(e){return t.createElement("div",Object.assign({className:"weui-flex"},e),e.children)},Fe=function(e){var a=e.component,n=e.children,r=f(e,["component","children"]),s=a;return t.createElement(s,Object.assign({className:"weui-flex__item"},r),n)};Fe.propTypes={component:P.node},Fe.defaultProps={component:"div"};var Ve=function(e){var a,r=e.className,s=void 0===r?"":r,i=e.type,o=e.children,l=e.show,c=f(e,["className","type","children","show"]),u=n((a={"weui-toptips":!0},d(a,"weui-toptips_"+i,!0),d(a,s,s),a));return t.createElement("div",Object.assign({className:u},c,{style:{display:l?"block":"none"}}),o)};Ve.propTypes={show:P.bool,type:P.string},Ve.defaultProps={show:!1,type:"default"};var ze=function(e){function r(e){p(this,r);var t=g(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={containerWidth:0,containerHeight:0,currentIndex:t.props.defaultIndex,touching:!1,og:0,ogTranslate:0,touchId:-1,translate:0,animating:!1,wrapperWidth:0,wrapperHeight:0},t.handleTouchStart=t.handleTouchStart.bind(t),t.handleTouchMove=t.handleTouchMove.bind(t),t.handleTouchEnd=t.handleTouchEnd.bind(t),t}return m(r,e),h(r,[{key:"componentDidMount",value:function(){var e=a.findDOMNode(this.refs.container);this.setState({wrapperWidth:"horizontal"===this.props.direction?e.offsetWidth*this.props.children.length:e.offsetWidth,wrapperHeight:"vertical"===this.props.direction?e.offsetHeight*this.props.children.length:e.offsetHeight,containerWidth:e.offsetWidth,containerHeight:e.offsetHeight,translate:this.props.defaultIndex<=this.props.children.length?"horizontal"===this.props.direction?e.offsetWidth*-this.props.defaultIndex:e.offsetHeight*-this.props.defaultIndex:0})}},{key:"handleTouchStart",value:function(e){if(!(this.state.touching||this.props.children.length<=1)){var t=0;t="horizontal"===this.props.direction?e.targetTouches[0].pageX-this.state.translate:e.targetTouches[0].pageY-this.state.translate,this.setState({touching:!0,ogTranslate:this.state.translate,touchId:e.targetTouches[0].identifier,og:t,animating:!1})}}},{key:"handleTouchMove",value:function(e){if(this.state.touching&&!(this.props.children.length<=1)&&e.targetTouches[0].identifier===this.state.touchId){e.preventDefault();var t=this.state.translate;if("horizontal"===this.props.direction){t=e.targetTouches[0].pageX-this.state.og}else{t=e.targetTouches[0].pageY-this.state.og}this.setState({translate:t})}}},{key:"handleTouchEnd",value:function(){var e=this;if(this.state.touching&&!(this.props.children.length<=1)){var t=this.state.translate,a="horizontal"===this.props.direction?this.state.wrapperWidth-this.state.containerWidth:this.state.wrapperHeight-this.state.containerHeight,n=this.state.currentIndex,r=n;if(t>0)t=0;else if(t<-a)t=-a;else{var s=Math.abs(t-this.state.ogTranslate),i=t-this.state.ogTranslate<0;s>=this.props.threshold?i?(t=this.state.ogTranslate-("horizontal"===this.props.direction?this.state.containerWidth:this.state.containerHeight),n+=1):(t=this.state.ogTranslate+("horizontal"===this.props.direction?this.state.containerWidth:this.state.containerHeight),n-=1):t=this.state.ogTranslate}this.setState({touching:!1,og:0,touchId:-1,ogTranslate:0,animating:!0,translate:t,currentIndex:n},function(){return setTimeout(function(){return e.setState({animating:!1})},e.props.speed)}),this.props.onChange&&this.props.onChange(r,n)}}},{key:"renderPagination",value:function(){var e=this;return this.props.children.map(function(a,r){if(a){var s=n("react-weui-swiper__pagination-bullet",{active:r===e.state.currentIndex});return t.createElement("span",{className:s,key:r})}})}},{key:"render",value:function(){var e=this,a=this.props,r=a.className,s=a.children,i=a.height,o=a.width,l=a.direction,c=a.speed,u=void 0===c?300:c,p=a.indicators,h=n("react-weui-swiper__container",r,{"react-weui-swiper__container-horizontal":"horizontal"===l,"react-weui-swiper__container-vertical":"vertical"===l}),d={height:i?i+"px":"100%",width:o?o+"px":"100%"},m={width:this.state.wrapperWidth,height:this.state.wrapperHeight,transition:this.state.animating?"transform ."+u/100+"s":"none",transform:"translate("+("horizontal"===l?this.state.translate:0)+"px, "+("vertical"===l?this.state.translate:0)+"px)"};return t.createElement("div",{className:h,onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd,style:d,ref:"container"},t.createElement("div",{className:"react-weui-swiper__wrapper",style:m},s.map(function(a,r){return t.cloneElement(a,{className:n("react-weui-swiper__item",a.className),key:r,style:Object.assign({},a.props.style,{display:"horizontal"===l?"inline-block":"block",verticalAlign:"horizontal"===l?"top":"bottom",width:e.state.containerWidth,height:e.state.containerHeight})})})),!!p&&t.createElement("div",{className:"react-weui-swiper__pagination"},this.renderPagination()))}}]),r}(t.Component);ze.propTypes={height:P.number,width:P.number,threshold:P.number,speed:P.number,defaultIndex:P.number,direction:P.oneOf(["vertical","horizontal"]),indicators:P.bool,onChange:P.func},ze.defaultProps={height:null,width:null,defaultIndex:0,direction:"horizontal",threshold:50,speed:300,indicators:!0};var We=function(e){function a(e){p(this,a);var t=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={currentIndex:t.props.defaultIndex},t}return m(a,e),h(a,[{key:"handleClick",value:function(e){var t=this;return function(a){e&&e(a,t.state.currentIndex)}}},{key:"renderImages",value:function(e){var a=this;return t.createElement("div",{className:"weui-gallery__img"},t.createElement(ze,{indicators:!1,defaultIndex:this.props.defaultIndex,onChange:function(e){return a.setState({currentIndex:e})}},e.map(function(e,a){var n={backgroundImage:"url("+e+")",backgroundSize:"contain",backgroundRepeat:"no-repeat",backgroundPosition:"center center"};return t.createElement("span",{key:a,style:n})})))}},{key:"renderOprs",value:function(){var e=this;return Array.isArray(this.props.children)?this.props.children.map(function(a,n){return t.cloneElement(a,{key:n,onClick:e.handleClick(a.props.onClick)})}):!!this.props.children&&t.cloneElement(this.props.children,{onClick:this.handleClick(this.props.children.props.onClick)})}},{key:"render",value:function(){var e=this.props,a=(e.children,e.className),r=e.show,s=e.src,i=(e.defaultIndex,f(e,["children","className","show","src","defaultIndex"])),o=n(d({"weui-gallery":!0},a,a));return!!r&&t.createElement("div",Object.assign({className:o,style:{display:r?"block":"none"}},i),Array.isArray(s)?this.renderImages(s):t.createElement("span",{className:"weui-gallery__img",style:{backgroundImage:"url("+s+")"}}),t.createElement("div",{className:"weui-gallery__opr"},this.renderOprs()))}}]),a}(t.Component);We.propTypes={show:P.bool,src:P.oneOfType([P.string,P.array]),defaultIndex:P.number},We.defaultProps={show:void 0,src:"",defaultIndex:0};var Ge=function(e){var a=e.className,r=f(e,["className"]),s=n(d({"weui-gallery__del":!0},a,a));return t.createElement("a",Object.assign({className:s},r),t.createElement($,{value:"delete",className:"weui-icon_gallery-delete"}))},Ye=function(e){var a=e.className,r=e.children,s=e.loading,i=e.showLine,o=e.showDot,l=f(e,["className","children","loading","showLine","showDot"]),c=n(d({"weui-loadmore":!0,"weui-loadmore_line":i,"weui-loadmore_dot":o},a,a));return t.createElement("div",Object.assign({className:c},l),!!s&&t.createElement($,{value:"loading"}),t.createElement("span",{className:"weui-loadmore__tips"},r))};Ye.propTypes={loading:P.bool,showLine:P.bool,showDot:P.bool},Ye.defaultProps={loading:!1,showLine:!1,showDot:!1};var qe=function(e){function a(e){p(this,a);var t=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={touching:!1,ogY:0,ogTranslate:0,touchId:void 0,translate:0,totalHeight:0,selected:0,animating:t.props.animation},t.handleTouchStart=t.handleTouchStart.bind(t),t.handleTouchMove=t.handleTouchMove.bind(t),t.handleTouchEnd=t.handleTouchEnd.bind(t),t.updateSelected=t.updateSelected.bind(t),t}return m(a,e),h(a,[{key:"componentDidMount",value:function(){this.adjustPosition(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.adjustPosition(e)}},{key:"adjustPosition",value:function(e){var t=this,a=e.items,n=e.itemHeight,r=e.indicatorTop,s=e.defaultIndex,i=a.length*n,o=i<=r?r:0;if(s>-1)if(0===o){var l=Math.floor(r/n);if(s>l){var c=s-l;o-=c*n}else s===l?o=0:o+=Math.abs(l-s)*n}else o-=n*s;this.setState({selected:s,ogTranslate:o,totalHeight:i,translate:o},function(){return s>-1?t.updateSelected(!1):t.updateSelected()})}},{key:"updateSelected",value:function(){var e=this,t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=this.props,n=a.items,r=a.itemHeight,s=a.indicatorTop,i=a.indicatorHeight,o=a.onChange,l=a.groupIndex,c=0;n.forEach(function(t,a){!t.disabled&&e.state.translate+r*a>=s&&e.state.translate+r*a+r<=s+i&&(c=a)}),o&&t&&o(n[c],c,l)}},{key:"handleTouchStart",value:function(e){this.state.touching||this.props.items.length<=1||this.setState({touching:!0,ogTranslate:this.state.translate,touchId:e.targetTouches[0].identifier,ogY:0===this.state.translate?e.targetTouches[0].pageY:e.targetTouches[0].pageY-this.state.translate,animating:!1})}},{key:"handleTouchMove",value:function(e){if(this.state.touching&&!(this.props.items.length<=1)&&e.targetTouches[0].identifier===this.state.touchId){e.preventDefault();var t=e.targetTouches[0].pageY,a=t-this.state.ogY;this.setState({translate:a})}}},{key:"handleTouchEnd",value:function(){var e=this;if(this.state.touching&&!(this.props.items.length<=1)){var t=this.props,a=t.indicatorTop,n=t.indicatorHeight,r=t.itemHeight,s=this.state.translate;if(Math.abs(s-this.state.ogTranslate)<.51*r)s=this.state.ogTranslate;else if(s>a)s=a;else if(s+this.state.totalHeight<a+n)s=a+n-this.state.totalHeight;else{var i=0,o=0,l=(s-this.state.ogTranslate)/r;Math.abs(l)<1?i=l>0?1:-1:(o=Math.abs(l%1*100)>50?1:0,i=l>0?Math.floor(l)+o:Math.ceil(l)-o),s=this.state.ogTranslate+i*r}this.setState({touching:!1,ogY:0,touchId:void 0,ogTranslate:0,animating:!0,translate:s},function(){return e.updateSelected()})}}},{key:"render",value:function(){var e=this,a=this.props,r=a.items,s=a.className,i=(a.height,a.itemHeight,a.indicatorTop,a.indicatorHeight,a.onChange,a.aniamtion,a.groupIndex,a.defaultIndex,a.mapKeys,f(a,["items","className","height","itemHeight","indicatorTop","indicatorHeight","onChange","aniamtion","groupIndex","defaultIndex","mapKeys"])),o=n("weui-picker__group",s),l={transform:"translate(0, "+this.state.translate+"px)",transition:this.state.animating?"transform .3s":"none"};return t.createElement("div",Object.assign({className:o},i,{onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd}),t.createElement("div",{className:"weui-picker__mask"}),t.createElement("div",{className:"weui-picker__indicator"}),t.createElement("div",{className:"weui-picker__content",style:l,ref:"content"},r.map(function(a,r){var s=a[e.props.mapKeys.label],i=n("weui-picker__item",{"weui-picker__item_disabled":a.disabled});return t.createElement("div",{key:r,className:i},s)})))}}]),a}(t.Component);qe.propTypes={height:P.number,itemHeight:P.number,indicatorTop:P.number,indicatorHeight:P.number,onChange:P.func,aniamtion:P.bool,groupIndex:P.number,defaultIndex:P.number},qe.defaultProps={height:238,itemHeight:34,indicatorTop:102,indicatorHeight:34,aniamtion:!0,groupIndex:-1,defaultIndex:-1,mapKeys:{label:"label"}};var $e=function(e){function a(e){p(this,a);var t=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={selected:t.props.defaultSelect?t.props.defaultSelect:Array(t.props.groups.length).fill(-1),actions:t.props.actions.length>0?t.props.actions:[{label:t.props.lang.leftBtn,onClick:function(e){return t.handleClose(function(){t.props.onCancel&&t.props.onCancel(e)})}},{label:t.props.lang.rightBtn,onClick:function(){return t.handleChanges()}}],closing:!1},t.handleChanges=t.handleChanges.bind(t),t.handleChange=t.handleChange.bind(t),t.handleClose=t.handleClose.bind(t),t}return m(a,e),h(a,[{key:"handleChanges",value:function(){var e=this;this.handleClose(function(){e.props.onChange&&e.props.onChange(e.state.selected,e)})}},{key:"handleChange",value:function(e,t,a){var n=this,r=this.state.selected;r[a]=t,this.setState({selected:r},function(){n.props.onGroupChange&&n.props.onGroupChange(e,t,a,n.state.selected,n)})}},{key:"handleClose",value:function(e){var t=this;this.setState({closing:!0},function(){return setTimeout(function(){t.setState({closing:!1}),e()},300)})}},{key:"renderActions",value:function(){var e=this.state.actions.map(function(e,a){var n=e.label,r=f(e,["label"]);return t.createElement("a",Object.assign({},r,{key:a,className:"weui-picker__action"})," ",n)});return t.createElement("div",{className:"weui-picker__hd"},e)}},{key:"renderGroups",value:function(){var e=this;return this.props.groups.map(function(a,n){return t.createElement(qe,Object.assign({key:n},a,{onChange:e.handleChange,groupIndex:n,defaultIndex:e.state.selected[n]}))})}},{key:"render",value:function(){var e=this,a=this.props,r=a.className,s=a.show,i=(a.actions,a.groups,a.defaultSelect,a.onGroupChange,a.onChange,a.onCancel,a.lang,f(a,["className","show","actions","groups","defaultSelect","onGroupChange","onChange","onCancel","lang"])),o=n("weui-picker",{"weui-animate-slide-up":s&&!this.state.closing,"weui-animate-slide-down":this.state.closing},r),l=n({"weui-animate-fade-in":s&&!this.state.closing,"weui-animate-fade-out":this.state.closing});return!!this.props.show&&t.createElement("div",null,t.createElement(D,{className:l,onClick:function(t){return e.handleClose(function(){e.props.onCancel&&e.props.onCancel(t)})}}),t.createElement("div",Object.assign({className:o},i),this.renderActions(),t.createElement("div",{className:"weui-picker__bd"},this.renderGroups())))}}]),a}(t.Component);$e.propTypes={actions:P.array,groups:P.array,defaultSelect:P.array,onGroupChange:P.func,onChange:P.func,onCancel:P.func,show:P.bool,lang:P.object},$e.defaultProps={actions:[],groups:[],show:!1,lang:{leftBtn:"Cancel",rightBtn:"Ok"}};var Ue=function(e){function a(e){p(this,a);var t=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e)),n=t.props,r=n.data,s=n.selected,i=n.dataMap,o=t.parseData(r,i.items,s),l=o.groups,c=o.newselected;return t.state={groups:l,selected:c,picker_show:!1,text:""},t.updateGroup=t.updateGroup.bind(t),t.parseData=t.parseData.bind(t),t.handleChange=t.handleChange.bind(t),t}return m(a,e),h(a,[{key:"parseData",value:function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],s=0;if(Array.isArray(a)&&a.length>0){var i=a.slice(0);s=i.shift(),a=i}void 0===e[s]&&(s=0),r.push(s);var o=e[s],l=JSON.parse(JSON.stringify(e));return l.forEach(function(e){return delete e[t]}),n.push({items:l,mapKeys:{label:this.props.dataMap.id}}),void 0!==o[t]&&Array.isArray(o[t])?this.parseData(o[t],t,a,n,r):{groups:n,newselected:r}}},{key:"updateDataBySelected",value:function(e,t){var a=this,n=this.props,r=n.data,s=n.dataMap,i=this.parseData(r,s.items,e),o=i.groups,l=i.newselected,c="";try{o.forEach(function(t,n){c+=t.items[e[n]][a.props.dataMap.id]+" "})}catch(e){c=this.state.text}this.setState({groups:o,text:c,selected:l},function(){return t()})}},{key:"updateGroup",value:function(e,t){var a=this;this.updateDataBySelected(e,function(){t.setState({selected:a.state.selected})})}},{key:"handleChange",value:function(e){var t=this;e===this.state.selected&&this.updateDataBySelected(e,function(){t.props.onChange&&t.props.onChange(t.state.text)}),this.props.onChange&&this.props.onChange(this.state.text)}},{key:"render",value:function(){return t.createElement($e,{show:this.props.show,onGroupChange:this.updateGroup,onChange:this.handleChange,defaultSelect:this.state.selected,groups:this.state.groups,onCancel:this.props.onCancel,lang:this.props.lang})}}]),a}(t.Component);Ue.propTypes={data:P.array.isRequired,dataMap:P.object,selected:P.array,show:P.bool,lang:P.object},Ue.defaultProps={data:[],dataMap:{id:"name",items:"sub"},selected:[],show:!1,lang:{leftBtn:"取消",rightBtn:"确定"}};var Xe={default:{},header:{position:"absolute",top:"-.4em",right:"-.4em"},body:{marginLeft:"5px"},footer:{marginLeft:"5px",marginRight:"5px"}},Ke=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=e.dot,i=e.style,o=e.preset,l=f(e,["children","className","dot","style","preset"]),c=n("weui-badge",{"weui-badge_dot":s},r),u=Object.assign({},Xe[o],i);return t.createElement("span",Object.assign({className:c,style:u},l),a)}}]),a}(t.Component);Ke.propTypes={dot:P.bool,preset:P.string},Ke.defaultProps={dot:!1,preset:"default"};var Je=function(e){function a(){return p(this,a),g(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return m(a,e),h(a,[{key:"render",value:function(){var e=this.props,a=e.className,r=e.children,s=e.show,i=e.onRequestClose,o=e.enableMask,l=f(e,["className","children","show","onRequestClose","enableMask"]),c=n("weui-popup",{"weui-popup_toggle":s},a);return t.createElement("div",null,t.createElement(D,{transparent:o,style:{display:s?"block":"none"},onClick:i}),t.createElement("div",Object.assign({className:c},l),r))}}]),a}(t.Component);Je.propTypes={show:P.bool,enableMask:P.bool},Je.defaultProps={show:!1,enableMask:!1};var Qe=function(e){var a=e.left,r=e.right,s=e.leftOnClick,i=e.rightOnClick,o=e.className,l=n("weui-popup__hd",o);return t.createElement("div",{className:l},t.createElement("a",{className:"weui-popup__action",onClick:s},a),t.createElement("a",{className:"weui-popup__action",onClick:i},r))};Qe.propTypes={left:P.string,right:P.string,leftOnClick:P.func,rightOnClick:P.func},Qe.defaultProps={left:"",right:""};var Ze=function(e){function r(e){p(this,r);var t=g(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={pullPercent:0,touching:!1,ogY:0,touchId:-1,animating:!1,loading:!1,initScrollTop:0},t.handleTouchStart=t.handleTouchStart.bind(t),t.handleTouchMove=t.handleTouchMove.bind(t),t.handleTouchEnd=t.handleTouchEnd.bind(t),t.resolveRefresh=t.resolveRefresh.bind(t),t}return m(r,e),h(r,[{key:"resolveRefresh",value:function(){var e=this
;this.setState({loading:!1,animating:!0,pullPercent:0},function(){setTimeout(function(){return e.setState({animating:!1})},500)})}},{key:"handleTouchStart",value:function(e){if(!(this.state.touching||this.state.loading||this.props.disable)){var t=a.findDOMNode(this.refs.content);this.setState({touching:!0,touchId:e.targetTouches[0].identifier,ogY:0===this.state.pullPercent?e.targetTouches[0].pageY:e.targetTouches[0].pageY-this.state.pullPercent,animating:!1,initScrollTop:t.scrollTop})}}},{key:"handleTouchMove",value:function(e){if(this.state.touching&&!this.state.loading&&!this.props.disable&&e.targetTouches[0].identifier===this.state.touchId){var t=e.targetTouches[0].pageY,n=t-this.state.ogY;if(!(n<0)){a.findDOMNode(this.refs.content).scrollTop>0||(e.preventDefault(),n=n-this.state.initScrollTop>100?100:n-this.state.initScrollTop,this.setState({pullPercent:n}))}}}},{key:"handleTouchEnd",value:function(){var e=this;if(this.state.touching&&!this.state.loading&&!this.props.disable){var t=this.state.pullPercent,a=!1;100===t?a=!0:t=0,this.setState({touching:!1,ogY:0,touchId:-1,initScrollTop:0,animating:a,pullPercent:t,loading:a},function(){a&&e.props.onRefresh(e.resolveRefresh)})}}},{key:"render",value:function(){var e=this.props,a=e.className,r=e.children,s=e.height,i=e.loaderHeight,o=e.loaderDefaultIcon,l=e.loaderLoadingIcon,c=(e.onRefresh,e.disable,f(e,["className","children","height","loaderHeight","loaderDefaultIcon","loaderLoadingIcon","onRefresh","disable"])),u=n("react-weui-ptr",a),p={height:s},h={height:i,marginTop:-i+this.state.pullPercent/(100/i)+"px",transition:this.state.animating?"all .5s":"none"};return t.createElement("div",Object.assign({className:u,style:p},c),t.createElement("div",{className:"react-weui-ptr__loader",style:h},this.state.loading?l:o(this.state.pullPercent)),t.createElement("div",{className:"react-weui-ptr__content",ref:"content",onTouchStart:this.handleTouchStart,onTouchMove:this.handleTouchMove,onTouchEnd:this.handleTouchEnd},r))}}]),r}(t.Component);Ze.propTypes={height:P.string,loaderHeight:P.number,loaderDefaultIcon:P.func,loaderLoadingIcon:P.any,onRefresh:P.func,disable:P.bool},Ze.defaultProps={height:"100%",loaderHeight:100,loaderDefaultIcon:function(e){var a={transform:"rotate(-"+(100!==e?1.8*e:0)+"deg)",color:100!==e?"#5f5f5f":"#1AAD19"};return t.createElement("div",{style:{flex:1,padding:"5px"}},t.createElement($,{value:100!==e?"download":"success",style:a}))},loaderLoadingIcon:t.createElement(Ye,{loading:!0}),onRefresh:function(e){return setTimeout(function(){return e()},1e3)},disable:!1};var et=function(e){function a(e){p(this,a);var t=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={loading:!1,finish:!1,scrollTimer:null},t.scrollHandle=t.scrollHandle.bind(t),t.resolveLoading=t.resolveLoading.bind(t),t.finish=t.finish.bind(t),t}return m(a,e),h(a,[{key:"componentWillReceiveProps",value:function(e){e.resetStatus&&this.reset()}},{key:"reset",value:function(){this.setState({loading:!1,finish:!1})}},{key:"finish",value:function(){this.setState({loading:!1,finish:!0})}},{key:"resolveLoading",value:function(){this.setState({loading:!1,finish:!1})}},{key:"scrollHandle",value:function(e){var t=this;if(this.props.onScroll&&this.props.onScroll(e),!(this.state.loading||this.state.finish||this.props.disable||0===e.target.scrollTop)){clearTimeout(this.state.scrollTimer),this.setState({scrollTimer:setTimeout(function(){t.props.onScrollEnd&&t.props.onScrollEnd()},150)});var a=e.target;Math.floor((a.scrollTop+a.clientHeight)/a.scrollHeight*100)>this.props.triggerPercent&&(this.setState({loading:!0}),this.props.onLoadMore(this.resolveLoading,this.finish))}}},{key:"render",value:function(){var e=this.props,a=e.children,r=e.className,s=e.height,i=(e.triggerPercent,e.disable),o=e.loaderLoadingIcon,l=e.loaderDefaultIcon,c=(e.onScrollEnd,e.onScroll,e.onLoadMore,f(e,["children","className","height","triggerPercent","disable","loaderLoadingIcon","loaderDefaultIcon","onScrollEnd","onScroll","onLoadMore"])),u=n("react-weui-infiniteloader",r),p={height:s},h={overflow:i?"hidden":"scroll"},d={display:this.state.loading||this.state.finish?"block":"none"};return t.createElement("div",Object.assign({className:u,style:p,onScroll:this.scrollHandle},c),t.createElement("div",{className:"react-weui-infiniteloader__content",style:h,ref:"container"},a,t.createElement("div",{style:d},this.state.finish?l:!!this.state.loading&&o)))}}]),a}(t.Component);et.propTypes={height:P.string,loaderDefaultIcon:P.object,loaderLoadingIcon:P.object,triggerPercent:P.number,onScroll:P.func,onScrollEnd:P.func,onLoadMore:P.func,disable:P.bool,resetStatus:P.bool},et.defaultProps={height:"100vh",triggerPercent:75,loaderLoadingIcon:t.createElement(Ye,{loading:!0}," Loading... "),loaderDefaultIcon:t.createElement(Ye,{showLine:!0}," No Data"),disable:!1};var tt=function(e){function a(e){p(this,a);var t=g(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,e));return t.state={ptrRefreshing:!1,contentScrollOnTop:!0},t.handleRefresh=t.handleRefresh.bind(t),t}return m(a,e),h(a,[{key:"componentWillReceiveProps",value:function(e){e.infiniteLoader?this.setState({contentScrollOnTop:!0}):this.setState({contentScrollOnTop:!1})}},{key:"componentWillUnmount",value:function(){}},{key:"handleRefresh",value:function(e){var t=this;this.setState({ptrRefreshing:!0},function(){t.props.ptrOnRefresh(function(){t.setState({ptrRefreshing:!1}),e()})})}},{key:"handleContentScroll",value:function(e){e.target.scrollTop<=0?this.setState({contentScrollOnTop:!0}):this.setState({contentScrollOnTop:!1})}},{key:"renderContent",value:function(e,a,n){var r=this;if(!n&&!a)return e;var s=t.createElement(et,{height:"100%",disable:this.state.ptrRefreshing,onScroll:function(e){return r.handleContentScroll(e)},onLoadMore:this.props.onLoadMore},e);return!a&&n?s:a&&!n?t.createElement(Ze,{onRefresh:this.handleRefresh,disable:!this.state.contentScrollOnTop},e):t.createElement(Ze,{onRefresh:this.handleRefresh,disable:!this.state.contentScrollOnTop},s)}},{key:"render",value:function(){var e=this.props,a=e.children,r=e.style,s=e.className,i=e.infiniteLoader,o=e.transition,l=e.ptr,c=n("weui-page",s);return t.createElement("div",{className:c,style:Object.assign({},{animationName:o?"pageInRight":""},r)},this.renderContent(a,l,i))}}]),a}(t.Component);tt.propTypes={ptr:P.bool,ptrOnRefresh:P.func,infiniteLoader:P.bool,onLoadMore:P.func,transition:P.bool},tt.defaultProps={ptr:!0,ptrOnRefresh:function(e){setTimeout(function(){e()},1e3)},infiniteLoader:!0,onLoadMore:function(e){setTimeout(function(){e()},1e3)},transition:!0},e.version="1.2.2",e.Button=b,e.ButtonArea=y,e.PreviewButton=_,e.Cells=E,e.CellsTitle=I,e.CellsTips=M,e.Cell=S,e.CellHeader=B,e.CellBody=H,e.CellFooter=A,e.Mask=D,e.Form=R,e.FormCell=L,e.TextArea=F,e.Input=V,e.Switch=z,e.Radio=W,e.Slider=ae,e.Checkbox=G,e.Select=Y,e.Uploader=U,e.VCode=X,e.Agreement=K,e.Preview=J,e.PreviewHeader=Q,e.PreviewBody=Z,e.PreviewFooter=ee,e.PreviewItem=te,e.Label=ne,e.Toast=re,e.Progress=se,e.ActionSheet=ie,e.Dialog=oe,e.Msg=he,e.Article=de,e.Icon=$,e.Grids=ve,e.Grid=ge,e.GridIcon=me,e.GridLabel=fe,e.Panel=be,e.PanelHeader=ye,e.PanelBody=_e,e.PanelFooter=we,e.MediaBox=Ne,e.MediaBoxHeader=Ee,e.MediaBoxBody=ke,e.MediaBoxTitle=Ce,e.MediaBoxDescription=Oe,e.MediaBoxInfo=je,e.MediaBoxInfoMeta=Te,e.Tab=De,e.TabBody=xe,e.TabBodyItem=Pe,e.NavBar=Se,e.NavBarItem=Ie,e.TabBar=Me,e.TabBarItem=Ae,e.TabBarIcon=Be,e.TabBarLabel=He,e.SearchBar=Re,e.Flex=Le,e.FlexItem=Fe,e.Toptips=Ve,e.Gallery=We,e.GalleryDelete=Ge,e.Footer=le,e.FooterText=ce,e.FooterLinks=ue,e.FooterLink=pe,e.LoadMore=Ye,e.Picker=$e,e.CityPicker=Ue,e.PickerGroup=qe,e.Badge=Ke,e.Popup=Je,e.PopupHeader=Qe,e.PullToRefresh=Ze,e.InfiniteLoader=et,e.Swiper=ze,e.Page=tt,Object.defineProperty(e,"__esModule",{value:!0})});
